(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,a){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(20),r=a.n(c),i=(a(108),a(109),a(223),a(224),a(8)),o=a(22),l={HOME:"/",SHARE:"/share",REGISTER:"/register",LOGIN:"/login"},j=a(6),u=a(235),d=a(239),b=a(233),h=a(100),m=a(1),p=function(e){var t=e.id,a=e.title,n=e.sharedBy,s=e.likeCount,c=e.dislikeCount,r=e.description,i="https://www.youtube.com/embed/".concat(t,"?rel=0");return Object(m.jsx)(d.a,{className:"video-cmp",children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)(h.a,{md:6,className:"video-cmp__col1",children:Object(m.jsx)("iframe",{title:a,src:i,frameBorder:"0",allow:"autoplay; fullscreen",className:"video-cmp__col1__iframe"})}),Object(m.jsx)(h.a,{md:6,className:"video-cmp__col2",children:Object(m.jsxs)(d.a.Body,{children:[Object(m.jsx)(d.a.Title,{children:a}),Object(m.jsxs)("p",{children:["Shared by: ",n]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{children:[s," ",Object(m.jsx)("i",{className:"fa fa-thumbs-o-up","aria-hidden":"true",style:{marginRight:"20px"}})]}),Object(m.jsxs)("span",{children:[c," ",Object(m.jsx)("i",{className:"fa fa-thumbs-o-down","aria-hidden":"true"})]})]}),Object(m.jsx)("p",{children:"Description:"}),Object(m.jsx)(d.a.Text,{className:"video-cmp__col2__desc",children:r})]})})]})})};p.defaultProps={id:"",title:"",sharedBy:"",likeCount:0,dislikeCount:0,description:""};var O=s.a.memo(p),x=a(236),f=a(234),g=function(e){return JSON.parse(localStorage.getItem(e))},v=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},y="userToken",N=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){var e=g(y)||"";if(e){var t=v(e).email;s(t)}}),[]);return Object(m.jsxs)("div",{className:"header-cmp",children:[Object(m.jsxs)(x.a,{className:"header-cmp__wrap",bg:"light",expand:"lg",children:[Object(m.jsx)(o.b,{className:"header-cmp__wrap__logo",to:"/",children:Object(m.jsxs)("h1",{children:[Object(m.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," Funny movies"]})}),Object(m.jsxs)("div",{className:"ml-auto header-cmp__wrap__btn-grp",children:[a&&Object(m.jsxs)("div",{className:"btn-grp-wrap",children:[Object(m.jsxs)("h5",{className:"btn-grp-wrap__title",children:["Welcome: ",a]}),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.b,{to:"/share",children:Object(m.jsx)(f.a,{variant:"outline-success mr-2",children:"Share a movie"})}),Object(m.jsx)(f.a,{variant:"outline-danger mr-2",onClick:function(){var e;s(""),e=y,localStorage.removeItem(e)},children:"Logout"})]})]}),!a&&Object(m.jsx)(o.b,{to:"/login",children:Object(m.jsx)(f.a,{variant:"outline-primary",children:"Login / Register"})})]})]}),Object(m.jsx)("hr",{className:"header-cmp__line"})]})},S=s.a.memo(N),C=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){a&&!a.length&&fetch("".concat("https://funny-movie-vietla.herokuapp.com","/api/videos")).then((function(e){return e.json()})).then((function(e){return s((e.value||[]).reverse())})).catch((function(e){console.log("error: ",e)}))})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S,{}),Object(m.jsx)(u.a,{children:(a||[]).map((function(e,t){return Object(m.jsx)(O,{id:e.id,title:e.title,sharedBy:e.sharedBy,likeCount:e.likeCount,dislikeCount:e.dislikeCount,description:e.description},"key_".concat(t))}))})]})},_=a(237),k=function(e){var t=e.id,a=e.type,n=e.className,s=e.name,c=e.defaultValue,r=e.placeholder,i=e.disabled,o=e.inputRef,l=e.onBlur,j=e.onChange,u=e.size,d=e.minlength,b=e.required,h=void 0!==b&&b;return Object(m.jsx)(_.a.Control,{id:t,name:s,type:a,className:"form-control ".concat(n),defaultValue:c,ref:o,onBlur:l,onChange:j,placeholder:r,disabled:i,size:u,minlength:d,required:h})};k.defaultProps={type:"text",name:"",onBlur:function(){},onChange:function(){},defaultValue:"",placeholder:"",className:""};var w=s.a.memo(k),E=a(238),T=function(e){var t=e.onClose,a=e.heading,n=e.message,s=e.variant;return Object(m.jsxs)(E.a,{variant:s,className:"alert-cmp",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(E.a.Heading,{children:a}),Object(m.jsx)("p",{children:n})]}),Object(m.jsx)("span",{onClick:t,className:"alert-cmp__closeBtn",children:Object(m.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})})]})};T.defaultProps={heading:"",onClose:function(){},message:"",variant:""};var L=s.a.memo(T),R=Object(i.f)((function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(""),d=Object(j.a)(u,2),p=d[0],O=d[1],x=Object(n.useState)(),N=Object(j.a)(x,2),C=N[0],k=N[1];Object(n.useEffect)((function(){var t=g(y)||"",a=e.history;if(t){var n=v(t).email;k(n)}else a.push("/login")}),[]);return Object(m.jsxs)(m.Fragment,{children:[s&&Object(m.jsx)(L,{heading:"Error!",variant:"danger",message:s,onClose:function(){return c("")}}),o&&Object(m.jsx)(L,{heading:"Successfully!",variant:"success",message:o,onClose:function(){return l("")}}),Object(m.jsx)(S,{}),Object(m.jsxs)(_.a,{style:{width:"780px",margin:"10% auto",height:"300px",border:"3px solid rgba(0,0,0,.1)",padding:"70px 30px"},onSubmit:function(t){if(t.preventDefault(),c(""),p){var a=e.history;C||a.push("/login");var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:C,videoUrl:p})};fetch("".concat("https://funny-movie-vietla.herokuapp.com","/api/sharevideo"),n).then((function(e){return e.json()})).then((function(){l("Congrats to share a movie successfully!"),setTimeout((function(){a.push("/")}),3e3)}))}else c("Required!")},children:[Object(m.jsxs)(_.a.Group,{as:b.a,controlId:"formHorizontalEmail",className:"mb-5",children:[Object(m.jsx)(_.a.Label,{column:!0,sm:2,children:"Youtube URL"}),Object(m.jsx)(h.a,{sm:10,children:Object(m.jsx)(w,{type:"text",size:"lg",placeholder:"Enter youtube URL",onChange:function(e){return O(e.target.value)}})})]}),Object(m.jsx)(_.a.Group,{as:b.a,children:Object(m.jsx)(h.a,{sm:{span:10,offset:2},children:Object(m.jsx)(f.a,{type:"submit",variant:"primary",size:"lg",block:!0,className:"w-100",disabled:!!o,children:"Share"})})})]})]})})),B=a(33),G=a.n(B),z=a(56),P=Object(i.f)((function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),l=i[0],u=i[1],d=Object(n.useState)(""),p=Object(j.a)(d,2),O=p[0],x=p[1],v=Object(n.useState)(""),N=Object(j.a)(v,2),S=N[0],C=N[1],k=Object(n.useState)(""),E=Object(j.a)(k,2),T=E[0],R=E[1];Object(n.useEffect)((function(){var t=g(y),a=e.history;t&&a.push("/")}),[]);var B=function(){var t=Object(z.a)(G.a.mark((function t(a){var n,c,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),C(""),s&&l&&O){t.next=5;break}return C("All of fields are required!"),t.abrupt("return");case 5:if(l===O){t.next=8;break}return C("Password does not matched!"),t.abrupt("return");case 8:return n=e.history,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:(s||"").trim(),password:l})},t.prev=10,t.next=13,fetch("".concat("https://funny-movie-vietla.herokuapp.com","/api/auth/register"),c);case 13:if(!(r=t.sent)||200!==r.status){t.next=20;break}return R("Congrats to register successfully!"),t.next=18,setTimeout((function(){n.push("/login")}),3e3);case 18:t.next=21;break;case 20:C("Email already exists");case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(10),C(t.t0);case 26:case"end":return t.stop()}}),t,null,[[10,23]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[S&&Object(m.jsx)(L,{heading:"Error!",variant:"danger",message:S,onClose:function(){return C("")}}),T&&Object(m.jsx)(L,{heading:"Successfully!",variant:"success",message:T,onClose:function(){return R("")}}),Object(m.jsxs)(_.a,{style:{width:"1020px",margin:"10% auto",height:"580px",border:"3px solid rgba(0,0,0,.1)",padding:"70px 30px"},onSubmit:B,children:[Object(m.jsx)("h2",{style:{textAlign:"center",marginBottom:"60px"},children:"Register"}),Object(m.jsxs)(_.a.Group,{as:b.a,className:"mb-5",children:[Object(m.jsx)(_.a.Label,{column:!0,sm:2,children:"Email"}),Object(m.jsx)(h.a,{sm:10,children:Object(m.jsx)(w,{type:"email",size:"lg",placeholder:"Enter your email",onChange:function(e){return c(e.target.value)}})})]}),Object(m.jsxs)(_.a.Group,{as:b.a,className:"mb-5",children:[Object(m.jsx)(_.a.Label,{column:!0,sm:2,children:"Password"}),Object(m.jsx)(h.a,{sm:10,children:Object(m.jsx)(w,{type:"password",size:"lg",placeholder:"Enter your password",onChange:function(e){return u(e.target.value)},minlength:5,required:!0})})]}),Object(m.jsxs)(_.a.Group,{as:b.a,className:"mb-5",children:[Object(m.jsx)(_.a.Label,{column:!0,sm:2,children:"Comfirm Password"}),Object(m.jsx)(h.a,{sm:10,children:Object(m.jsx)(w,{type:"password",size:"lg",placeholder:"Re-enter your password",onChange:function(e){return x(e.target.value)},minlength:5,required:!0})})]}),Object(m.jsx)(_.a.Group,{as:b.a,children:Object(m.jsxs)(h.a,{sm:{span:10,offset:2},children:[Object(m.jsx)(f.a,{type:"submit",variant:"primary",size:"lg",block:!0,className:"w-100",disabled:!!T,children:"Register"}),Object(m.jsxs)("p",{style:{textAlign:"center",marginTop:"10px"},children:["Already have an account? ",Object(m.jsx)(o.b,{to:"/login",children:"Login"})]})]})})]})]})})),F=Object(i.f)((function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),l=i[0],u=i[1],d=Object(n.useState)(""),p=Object(j.a)(d,2),O=p[0],x=p[1],v=Object(n.useState)(""),N=Object(j.a)(v,2),S=N[0],C=N[1];Object(n.useEffect)((function(){var t=g(y),a=e.history;t&&a.push("/")}),[]);var k=function(){var t=Object(z.a)(G.a.mark((function t(a){var n,c,r,i;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s&&l){t.next=4;break}return x("All of fields are required!"),t.abrupt("return");case 4:return n=e.history,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:(s||"").trim(),password:l})},t.prev=6,t.next=9,fetch("".concat("https://funny-movie-vietla.herokuapp.com","/api/auth/login"),c);case 9:return r=t.sent,t.next=12,r.json();case 12:if(200!==(i=t.sent).status){t.next=20;break}o=y,j=i.token,localStorage.setItem(o,JSON.stringify(j)),x(""),C("Congrats to login successfully!"),setTimeout((function(){n.push("/")}),3e3),t.next=22;break;case 20:return x(i.message),t.abrupt("return");case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(6),x(t.t0);case 27:case"end":return t.stop()}var o,j}),t,null,[[6,24]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[O&&Object(m.jsx)(L,{heading:"Error!",variant:"danger",message:O,onClose:function(){return x("")}}),S&&Object(m.jsx)(L,{heading:"Successfully!",variant:"success",message:S,onClose:function(){return C("")}}),Object(m.jsxs)(_.a,{className:"login-pg",onSubmit:k,children:[Object(m.jsx)("h2",{className:"login-pg__title",children:"Login"}),Object(m.jsxs)(_.a.Group,{as:b.a,className:"mb-5",children:[Object(m.jsx)(_.a.Label,{column:!0,sm:2,children:"Email"}),Object(m.jsx)(h.a,{sm:10,children:Object(m.jsx)(w,{type:"email",size:"lg",placeholder:"Enter your email",onChange:function(e){return c(e.target.value)}})})]}),Object(m.jsxs)(_.a.Group,{as:b.a,className:"mb-5",children:[Object(m.jsx)(_.a.Label,{column:!0,sm:2,children:"Password"}),Object(m.jsx)(h.a,{sm:10,children:Object(m.jsx)(w,{type:"password",size:"lg",placeholder:"Enter your password",onChange:function(e){return u(e.target.value)},minlength:5,required:!0})})]}),Object(m.jsx)(_.a.Group,{as:b.a,children:Object(m.jsxs)(h.a,{sm:{span:10,offset:2},children:[Object(m.jsx)(f.a,{type:"submit",variant:"primary",size:"lg",block:!0,className:"w-100",disabled:!!S,children:"Login"}),Object(m.jsxs)("p",{style:{textAlign:"center",marginTop:"10px"},children:["Don't have an account? ",Object(m.jsx)(o.b,{to:"/register",children:"Create One"})]})]})})]})]})})),I=function(){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsxs)("div",{className:"notfound",children:[Object(m.jsx)("h1",{children:"Oops!"}),Object(m.jsx)("h2",{children:"404 Not Found"}),Object(m.jsx)("div",{className:"notfound__details",children:Object(m.jsx)("p",{children:"Sorry, an error has occured, Requested page not found!"})}),Object(m.jsx)("div",{className:"notfound__actions",children:Object(m.jsxs)("a",{href:l.HOME,className:"btn btn-primary btn-lg",children:[Object(m.jsx)("span",{className:"glyphicon glyphicon-home"}),"Take Me Home"]})})]})})})})},A=function(){return Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:l.HOME,component:C}),Object(m.jsx)(i.a,{path:"".concat(l.SHARE),component:R}),Object(m.jsx)(i.a,{path:"".concat(l.REGISTER),component:P}),Object(m.jsx)(i.a,{path:"".concat(l.LOGIN),component:F}),Object(m.jsx)(i.a,{component:I})]})},q=function(){return Object(m.jsx)(o.a,{children:Object(m.jsx)(A,{})})};var H=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(q,{})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,240)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(H,{})}),document.getElementById("root")),J()}},[[231,1,2]]]);
//# sourceMappingURL=main.685aae1f.chunk.js.map